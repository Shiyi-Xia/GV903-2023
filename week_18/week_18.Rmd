---
title: "Ordinal Dependent Variables"
subtitle: "Week 18"
author: "Winnie Xia"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_mono_accent(
  header_font_google = google_font("Josefin Sans"),
  text_font_google   = google_font("Montserrat", "300", "300i"),
  code_font_google   = google_font("Fira Mono")
)
style_duo(primary_color = "#1F4257", secondary_color = "#F97B64")
```

```{r setup, include=FALSE, message=FALSE, warning=FALSE}
options(htmltools.dir.version = FALSE)
```
# What are ordinal dependent variables?

---
# Ordered logit and probit regression

---
# Ordered logit and probit in R
```{r}
library(foreign)
dat <- read.dta("https://stats.idre.ucla.edu/stat/data/ologit.dta")
head(dat)
```
---
# Ordered logit and probit in R
Below we use the `polr` function from the MASS package to estimate an ordered logistic regression model. 
```{r}
library(MASS) 
library(texreg)
m1 <- polr(apply ~ pared + public + gpa, data = dat, 
           method = "logistic", Hess=TRUE)

m2 <- polr(apply ~ pared + public + gpa, data = dat, 
           method = "probit", Hess=TRUE)

m3 <- glm(as.numeric(apply) ~ pared + public + gpa,
          data = dat)

```
---
# Ordered logit and probit in R
```{r , echo=FALSE}
screenreg(list(m1, m2, m3))
```
---
# Interpretation

```{r }
summary(m1)
```
---
# Interpretation
We often interpret models by employing prediction based on scenarios.

```{r message=FALSE}
library(erer)
ocME(m1)
```
---
# The Parallel Regression Assumption

- An alternative way of conceptualizing the ordered logit/probit model is as the constrained estimation of a system of logit/probit models.

- Parallel regressions describe how the impact of covariates may shift the predicted probability curves to the right ot left, but **does not change the basic slope of these curves across any two categories.**
---
# Assessing the parallel regression assumption

- Fit separate binary logit or probit models for the different cut-off levels and see if the slopes are similar.

- The Brant test
```{r }
library(brant)
brant(m1)
```

---
# Cumulative Link Model
```{r}
library(ordinal)
m4 <- clm(apply ~ pared + public + gpa, data = dat, 
           link = "logit")

```

